# Документация по установке и использованию Hunyuan Portal

## Требования

- Python 3.7+
- Пакетный менеджер: Poetry (рекомендуется использовать вместо pip)
- Библиотеки: `gradio-client` (обязательно), `rich` (опционально для Markdown)

## Установка зависимостей

### Базовая установка

```bash
poetry add gradio-client
```

### Опциональные зависимости

Для поддержки Markdown в выводе:

```bash
poetry add rich --optional
```

## Первый запуск

### 1. Проверка подключения к Hunyuan T1

Программа автоматически пытается подключиться к модели при старте. Пример успешного подключения:

```bash
$ python hunyuan_shell.py --url tencent/Hunyuan-T1
Подключение к Hunyuan T1 (tencent/Hunyuan-T1)...
Успешное подключение!
```

### 2. Основные режимы работы

#### А) Интерактивный режим

Запустите с флагом `-i`:

```bash
poetry run python hunyuan_shell.py -i
```

Пример вывода:

```text
Добро пожаловать в CLI Hunyuan T1.
Введите 'help' для списка команд или 'exit' для выхода.
hunyuan>
```

#### Б) Одиночный запрос

Передайте текст через параметр `-m`:

```bash
poetry run python hunyuan_shell.py -m "Как работает искусственный интеллект?"
```

## Команды интерактивного режима

### Основные команды

| Команда | Описание                |
|---------|-------------------------|
| `exit`  | Завершение работы       |
| `help`  | Список доступных команд |

### Обработка сообщений

Любой непонятный ввод обрабатывается как текстовый запрос к модели.

## Параметры запуска

| Аргумент           | Описание                                                                            |
|--------------------|-------------------------------------------------------------------------------------|
| `--url` / `-u`     | URL или имя модели (по умолчанию: `tencent/Hunyuan-T1`)                             |
| `--message` / `-m` | Текстовое сообщение для отправки модели (используется вместо интерактивного режима) |
| `--markdown`       | Включить форматирование Markdown (требует установленного `rich`)                    |

## Примеры использования

### Простой запрос

```bash
poetry run python hunyuan_shell.py -m "Объясни, что такое машинное обучение"
```

### Интерактивная работа

```text
hunyuan> Какие существуют типы нейронных сетей?
Подождите, выполняется запрос...
[Результат от Hunyuan T1]
```

### Вывод с Markdown

```bash
poetry run python hunyuan_shell.py --markdown -m "Создай таблицу с примерами алгоритмов"
```

## Расширенные возможности

### Кастомизация вывода

Если используется `rich`, вывод будет автоматически оформлен в Markdown. Для ручного управления используйте:

- `[bold]...[/bold]` — жирный текст
- `[italic]...[/italic]` — курсив
- `[color=red]...[/color]` — цветной текст

### Обработка ошибок

Программа автоматически перехватывает исключения и выводит понятные сообщения. Пример:

```text
Ошибка при выполнении запроса: TimeoutError: Сервер недоступен
```

## Частые проблемы

### Ошибка подключения

**Сообщение:** `Ошибка подключения: <причина>`
**Решение:**

1. Проверьте правильность URL модели
2. Убедитесь, что интернет-соединение есть
3. Проверьте версию `gradio-client`:
   ```bash
   poetry show gradio-client
   ```

### Отсутствие Markdown

**Сообщение:** `Markdown недоступен. Установите 'rich' для этой функции.`
**Решение:** Установите пакет:

```bash
poetry add rich --optional
```

## Обновление зависимостей

```bash
poetry update gradio-client rich
```

## Техническая информация

Программа использует:

- Клиентскую библиотеку Gradio для работы с API
- Rich для красивого форматирования вывода
- Cmd модуль для создания интерактивной оболочки

Для получения дополнительной информации о модели Hunyuan T1 обратитесь
к [официальной документации Tencent](https://hunyuan.tencent.com/)